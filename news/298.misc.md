replace 'typing comments' with type annotations throughout